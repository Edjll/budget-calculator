(this["webpackJsonpbudget-calculator"]=this["webpackJsonpbudget-calculator"]||[]).push([[0],[,,,,,function(e,t,a){e.exports=a.p+"static/media/login.80f37359.svg"},,,function(e,t,a){e.exports=a.p+"static/media/save.d82c8949.svg"},function(e,t,a){e.exports=a.p+"static/media/edit.b26a118c.svg"},function(e,t,a){e.exports=a.p+"static/media/delete.45844116.svg"},function(e,t,a){e.exports=a.p+"static/media/refresh.4d49b1ee.svg"},function(e,t,a){e.exports=a.p+"static/media/settings.4b4752d6.svg"},function(e,t,a){e.exports=a.p+"static/media/calculator.d0eb6fd9.svg"},function(e,t,a){e.exports=a.p+"static/media/username.b6fc0f15.svg"},function(e,t,a){e.exports=a.p+"static/media/registration.2d9cb434.svg"},function(e,t,a){e.exports=a.p+"static/media/password.b810fd50.svg"},function(e,t,a){e.exports=a(36)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var s=a(0),n=a.n(s),r=a(7),i=a.n(r),o=(a(22),a(1)),c=a(2),l=a(4),u=a(3),m=(a(23),a(8)),h=a.n(m),g=(a(24),function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var s;return Object(o.a)(this,a),(s=t.call(this,e)).state={value:""},s}return Object(c.a)(a,[{key:"clearInput",value:function(){var e=this.state;e.value="",this.setState(e)}},{key:"inputValue",value:function(e){var t=this.state;t.value=this.props.validateValue(e.target),this.setState(t)}},{key:"createItem",value:function(){if(this.state.value.length){var e=this.props.transformValue(this.state.value);this.props.checkValue(e)&&(this.props.createItem(e),this.clearInput())}}},{key:"render",value:function(){var e=this;return n.a.createElement("div",{className:"item-creator-wrapper"},n.a.createElement("div",{className:"item-creator-value"},n.a.createElement("input",{type:"text",value:this.state.value,onChange:function(t){return e.inputValue(t)},onKeyPress:function(t){return"Enter"===t.key?e.createItem(t):null}})),n.a.createElement("div",{className:"item-creator-save"},n.a.createElement("button",{onClick:function(t){return e.createItem()}},n.a.createElement("img",{src:h.a,alt:"save"}))))}}]),a}(s.Component)),p=(a(25),a(9)),d=a.n(p),v=a(10),y=a.n(v),b=a(11),f=a.n(b),E=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var s;return Object(o.a)(this,a),(s=t.call(this,e)).state={editing:!1,deleting:!1,value:e.value},s}return Object(c.a)(a,[{key:"editingValue",value:function(){var e=this.state;e.editing=!this.state.editing,this.setState(e)}},{key:"deleteItem",value:function(){var e=this.state;e.deleting=!0,this.setState(e)}},{key:"deletingItem",value:function(){var e=this;this.deleteItem(),setTimeout((function(){return e.props.deleteItem(e.props.id)}),400)}},{key:"editValue",value:function(){if(this.state.value.length){this.editingValue();var e=this.state;e.value=this.props.transformValue(this.state.value),this.setState(e),this.props.changeItemValue(this.props.id,this.props.transformValue(this.state.value))}}},{key:"inputValue",value:function(e){var t=this.state;t.value=this.props.validateValue(e.target),this.setState(t)}},{key:"render",value:function(){var e=this;return n.a.createElement("div",{className:"item-wrapper".concat(this.state.editing?" item-editing":"").concat(this.state.deleting?" item-deleting":"")},n.a.createElement("div",{className:"item-value"},n.a.createElement("input",{type:"text",value:this.state.value,onChange:function(t){return e.inputValue(t)},onKeyPress:function(t){return"Enter"===t.key?e.editValue():null},readOnly:!this.state.editing,autoFocus:this.state.editing})),n.a.createElement("div",{className:"item-edit"},n.a.createElement("button",{onClick:function(t){return e.editValue()}},n.a.createElement("img",{src:this.state.editing?f.a:d.a,alt:"edit"})),n.a.createElement("button",{onClick:function(t){return e.deletingItem()}},n.a.createElement("img",{src:y.a,alt:"delete"}))))}}]),a}(s.Component),k=(a(26),function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var s=arguments.length,n=new Array(s),r=0;r<s;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).changeItemValue=function(t,a){e.props.changeItemValue(e.props.description,t,a)},e.deleteItem=function(t){e.props.deleteItem(e.props.description,t)},e.validateValue=function(e){var t=e.value,a=e.selectionStart;return/\d|\.|(undefined)/.test(t[a-1])?("."===t[0]&&(t="0"+t),/((?<=\.\d{2})\d+)|(^0{2,})|((?<=\d*\.\d*)\.)|(^0(?=\d))/.test(t)&&(t=t.replace(/((?<=\.\d{2})\d+)|(^0{2,})|((?<=\d*\.\d*)\.)|(^0(?=\d))/g,""),e.selectionStart=a,e.selectionEnd=a),t.length>10&&(t=t.slice(0,11))):(t=t.slice(0,a-1)+t.slice(a),e.selectionStart=a-1,e.selectionEnd=a-1),t},e.transformValue=function(e){return e.replace(/\.0*(?!\d+)/g,"").replace(/(?<=\.\d)(?!\d)/g,"0")},e.createItem=function(t){e.props.createItem(e.props.description,t)},e}return Object(c.a)(a,[{key:"checkValue",value:function(e){return!!e.length&&(1!==e.length||"0"!==e[0])}},{key:"render",value:function(){var e=this,t=this.props.items.map((function(t){return n.a.createElement(E,{key:t.id,id:t.id,value:t.value,validateValue:e.validateValue,changeItemValue:e.changeItemValue,deleteItem:e.deleteItem,transformValue:e.transformValue})}));return n.a.createElement("div",{className:"items-box"},n.a.createElement("p",null,this.props.title),n.a.createElement(g,{validateValue:this.validateValue,createItem:this.createItem,transformValue:this.transformValue,checkValue:this.checkValue}),n.a.createElement("div",{className:"items"},t))}}]),a}(s.Component)),S=(a(27),function(e){return n.a.createElement("button",{className:"datepicker-item",onClick:function(t){return e.changeDate(t.target.innerText)}},n.a.createElement("span",{className:e.selected?"selected":""},0===e.selectable?e.description.slice(0,3):e.description))}),I=(a(28),function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var e=this,t=[];if(0===this.props.selectable.type)t=this.props.months;else if(1===this.props.selectable.type)for(var a=12*Math.floor(this.props.selectable.value/12);a<12*Math.floor((this.props.selectable.value+12)/12);a++)t.push(a);var s=t.map((function(t,a){return n.a.createElement(S,{key:a,description:t,selectable:e.props.selectable.type,selected:0===e.props.selectable.type?e.props.date.year===e.props.selectable.value&&t===e.props.date.month:t===e.props.date.year,changeDate:e.props.changeDate})}));return n.a.createElement("div",{className:"datepicker-calendar",tabIndex:"0"},n.a.createElement("div",{className:"datepicker-switcher"},n.a.createElement("button",{onClick:function(t){return e.props.changeSelectableValue(!1)}},n.a.createElement("span",null,"\u2039")),n.a.createElement("button",{onClick:function(t){return e.props.changeSelectableType(!1)}},0===this.props.selectable.type?this.props.selectable.value:"".concat(t[0],"-").concat(t[t.length-1])),n.a.createElement("button",{onClick:function(t){return e.props.changeSelectableValue(!0)}},n.a.createElement("span",null,"\u203a"))),n.a.createElement("div",{className:"datepicker-months"},s))}}]),a}(s.Component)),N=(a(29),a(30),function(e){return n.a.createElement("div",{className:"datapicker-display"},n.a.createElement("input",{type:"text",value:e.selected.month,onClick:function(t){return e.calendarVisible(t.target.parentNode.nextElementSibling)},readOnly:!0}),n.a.createElement("input",{type:"text",value:e.selected.year,onFocus:function(t){return e.calendarVisible(t.target.parentNode.nextElementSibling)},readOnly:!0}))}),O=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var s;return Object(o.a)(this,a),(s=t.call(this,e)).state={selectable:{type:e.selectable.value,value:s.props.date.year}},s}return Object(c.a)(a,[{key:"calendarVisible",value:function(e){e.focus()}},{key:"changeSelectableType",value:function(e){var t=this.state.selectable.type+(e?-1:1),a=this.state;t>=0&&t<this.props.selectable.possible.length&&(a.selectable.type=t,this.setState(a))}},{key:"changeSelectableValue",value:function(e){var t=this.state,a=t.selectable.type?12:1;t.selectable.value+=e?a:-a,this.setState(t)}},{key:"changeDate",value:function(e){if(0===this.state.selectable.type)this.props.changeDate(this.props.selectable.possible[this.state.selectable.type],this.props.months.map((function(e){return e.slice(0,3)})).indexOf(e),this.state.selectable.value);else{this.props.changeDate(this.props.selectable.possible[this.state.selectable.type],Number(e));var t=this.state;t.selectable.value=Number(e),this.setState(t)}this.changeSelectableType(!0)}},{key:"render",value:function(){return n.a.createElement("div",{className:"datepicker"},n.a.createElement(N,{selected:this.props.date,calendarVisible:this.calendarVisible}),n.a.createElement(I,{months:this.props.months,date:this.props.date,selectable:this.state.selectable,changeDate:this.changeDate.bind(this),changeSelectableType:this.changeSelectableType.bind(this),changeSelectableValue:this.changeSelectableValue.bind(this)}))}}]),a}(s.Component),x=(a(31),a(12)),V=a.n(x),w=(a(32),function(e){return n.a.createElement("button",{className:"settings-button".concat(" settings-active"===e.settingsActive?" settings-button-active":""),onClick:e.openSettings,title:e.title},n.a.createElement("img",{src:V.a,alt:"settings"}))}),j=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"transformMoney",value:function(e){return String(e).replace(/(?<=\.\d)(?!\d)/g,"0")}},{key:"render",value:function(){return n.a.createElement("div",{className:"display"},n.a.createElement("div",{className:"display-all-money"},n.a.createElement("span",null,this.props.money.title),n.a.createElement("span",null,this.transformMoney(this.props.money.value.all))),n.a.createElement("div",{className:"display-month-money"},n.a.createElement("span",null,this.transformMoney(this.props.money.value.month))),n.a.createElement("div",{className:"display-settings-button"},n.a.createElement(w,{settingsActive:this.props.settingsActive,openSettings:this.props.openSettings})))}}]),a}(s.Component),C={budget:{incomes:"incomes",expences:"expences"},key:"budget_calculator",themes:{light:"light",dark:"dark"},languages:{ru:"ru",en:"en"},datepicker:{selectable:{value:0,possible:["month","year"]}},pages:{app:"",signIn:" sign-in-active",settings:" settings-active"}},A={ru:{budget:{incomes:"\u0414\u043e\u0445\u043e\u0434\u044b",expences:"\u0420\u0430\u0441\u0445\u043e\u0434\u044b",money:"\u0412\u0441\u0435\u0433\u043e"},months:["\u042f\u043d\u0432\u0430\u0440\u044c","\u0424\u0435\u0432\u0440\u0430\u043b\u044c","\u041c\u0430\u0440\u0442","\u0410\u043f\u0440\u0435\u043b\u044c","\u041c\u0430\u0439","\u0418\u044e\u043d\u044c","\u0418\u044e\u043b\u044c","\u0410\u0432\u0433\u0443\u0441\u0442","\u0421\u0435\u043d\u0442\u044f\u0431\u0440\u044c","\u041e\u043a\u0442\u044f\u0431\u0440\u044c","\u041d\u043e\u044f\u0431\u0440\u044c","\u0414\u0435\u043a\u0430\u0431\u0440\u044c"],settings:{title:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438",themes:["\u0421\u0432\u0435\u0442\u043b\u0430\u044f","\u0422\u0451\u043c\u043d\u0430\u044f"],languages:["\u0420\u0443\u0441\u0441\u043a\u0438\u0439","\u0410\u043d\u0433\u043b\u0438\u0439\u0441\u043a\u0438\u0439"],theme:"\u0422\u0435\u043c\u0430",language:"\u042f\u0437\u044b\u043a"},signIn:{login:"\u0412\u043e\u0439\u0442\u0438",registration:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f",username:"\u041f\u0441\u0435\u0432\u0434\u043e\u043d\u0438\u043c",password:"\u041f\u0430\u0440\u043e\u043b\u044c"},app:"\u041f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435"},en:{budget:{incomes:"Incomes",expences:"Expences",money:"All"},months:["January","February","March","April","May","June","July","August","September","October","November","December"],settings:{title:"Settings",themes:["Light","Dark"],languages:["Russian","English"],theme:"Theme",language:"Language"},signIn:{login:"Login",registration:"Registration",username:"Username",password:"Password"},app:"App"}},J={active:"anonim",users:{anonim:{username:"anonim",password:"",budget:{incomes:{years:{},money:0},expences:{years:{},money:0}},date:{month:new Date(Date.now()).getMonth(),year:new Date(Date.now()).getFullYear()},settings:{theme:C.themes.light,language:C.languages.ru}}}},M=(a(33),a(13)),D=a.n(M),T=(a(34),function(e){return n.a.createElement("button",{className:"calculator-button",onClick:e.openApp,title:e.title},n.a.createElement("img",{src:D.a,alt:"app"}))}),L=a(5),U=a.n(L),F=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var e=this,t=[],a=0;for(var s in this.props.themes)t.push(n.a.createElement("option",{key:a,value:s},this.props.storage.settings.themes[a])),a++;var r=[];for(var i in a=0,this.props.languages)r.push(n.a.createElement("option",{key:a,value:i},this.props.storage.settings.languages[a])),a++;return n.a.createElement("div",{className:"settings-wrapper settings-".concat(this.props.theme)},n.a.createElement("button",{className:"open-sign-in",onClick:this.props.openLogin,title:this.props.storage.signIn},n.a.createElement("img",{src:U.a,alt:"sign in"})),n.a.createElement(T,{openApp:this.props.openApp,title:this.props.storage.app}),n.a.createElement("form",{className:"settings-form",onSubmit:function(e){return e.preventDefault()}},n.a.createElement("label",null,n.a.createElement("span",{className:"settings-span-".concat(this.props.theme)},this.props.storage.settings.theme),n.a.createElement("select",{value:this.props.theme,onChange:function(t){return e.props.changeTheme(t.target.value)}},t)),n.a.createElement("label",null,n.a.createElement("span",{className:"settings-span-".concat(this.props.theme)},this.props.storage.settings.language),n.a.createElement("select",{value:this.props.language,onChange:function(t){return e.props.changeLanguage(t.target.value)}},r))))}}]),a}(s.Component),P=(a(35),a(14)),B=a.n(P),K=a(15),R=a.n(K),W=a(16),Y=a.n(W),$=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var s;return Object(o.a)(this,a),(s=t.call(this,e)).state={error:{status:!1,message:"",removing:!1},active:{page:"login",button:{rotate:!1}},user:{username:"",password:""}},s}return Object(c.a)(a,[{key:"createError",value:function(e){var t=this.state;t.error.status=!0,t.error.message=e,this.setState(t)}},{key:"removingError",value:function(){var e=this,t=this.state;t.error.removing=!0,this.setState(t),setTimeout((function(){return e.removeError()}),500)}},{key:"removeError",value:function(){var e=this.state;e.error.status=!1,e.error.message="",e.error.removing=!1,this.setState(e)}},{key:"rotateButton",value:function(){var e=this,t=this.state;t.active.button.rotate=!0,this.setState(t),setTimeout((function(){return e.changeActive()}),250)}},{key:"changeActive",value:function(){var e=this,t=this.state;t.active.page="login"===t.active.page?"registration":"login",this.setState(t),setTimeout((function(){t.active.button.rotate=!1,e.setState(t)}),250)}},{key:"clearForm",value:function(){var e=this.state;e.user.username="",e.user.password="",this.setState(e)}},{key:"checkForm",value:function(){var e;this.state.user.username.length&&this.state.user.password.length&&("registration"===this.state.active.page?e=this.props.createUser(this.state.user.username,this.state.user.password):"login"===this.state.active.page&&(e=this.props.login(this.state.user.username,this.state.user.password)),e.status?this.clearForm():this.createError(e.error))}},{key:"inputPassword",value:function(e){var t=this.state;t.user.password=e.target.value,this.setState(t),this.state.error.status&&this.removingError()}},{key:"inputUsername",value:function(e){var t=this.state;t.user.username=e.target.value,this.setState(t),this.state.error.status&&this.removingError()}},{key:"render",value:function(){var e=this;return n.a.createElement("div",{className:"sign-in-wrapper sign-in-".concat(this.props.theme)},n.a.createElement("div",{className:"rotate-container"},n.a.createElement(T,{openApp:this.props.openApp,title:this.props.storage.app}),n.a.createElement("div",{className:"settings-button-wrapper"},n.a.createElement(w,{settingsActive:this.props.settingsActive,openSettings:this.props.openSettings,title:this.props.storage.settings})),n.a.createElement("button",{className:"open-registration".concat(this.state.active.button.rotate?" rotate-button":""),title:"login"===this.state.active.page?this.props.storage.signIn.registration:this.props.storage.signIn.login,onClick:function(t){e.removingError(),e.rotateButton()},disabled:this.state.active.button.rotate},n.a.createElement("img",{src:"login"===this.state.active.page?R.a:U.a,alt:this.state.active.page})),n.a.createElement("form",{className:"sign-in-form",onSubmit:function(e){return e.preventDefault()}},this.state.error.status?n.a.createElement("div",{className:"error-message".concat(this.state.error.removing?" error-removing":"")},n.a.createElement("span",null,this.state.error.message)):null,n.a.createElement("label",null,n.a.createElement("input",{placeholder:this.props.storage.signIn.username,type:"text",value:this.state.user.username,maxLength:8,onChange:function(t){return e.inputUsername(t)}}),n.a.createElement("img",{src:B.a,alt:"username"})),n.a.createElement("label",null,n.a.createElement("input",{placeholder:this.props.storage.signIn.password,type:"password",value:this.state.user.password,maxLength:8,onChange:function(t){return e.inputPassword(t)}}),n.a.createElement("img",{src:Y.a,alt:"password"})),n.a.createElement("button",{className:"".concat(this.state.active.button.rotate?"rotate-button":""," sign-in-button-").concat(this.props.theme),onClick:function(t){return e.checkForm()}},n.a.createElement("span",null,"login"===this.state.active.page?this.props.storage.signIn.login:this.props.storage.signIn.registration)))))}}]),a}(s.Component),_=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a),(e=t.call(this)).createItem=function(t,a){var s=JSON.parse(localStorage.getItem(C.key)),n=e.state,r=Number(a),i=t===C.budget.incomes?r:-r;if(s.users[s.active].budget[t].years[e.state.date.year]||(s.users[s.active].budget[t].years[e.state.date.year]={months:{}}),s.users[s.active].budget[t].years[e.state.date.year].months[e.state.date.month]){s.users[s.active].budget[t].years[e.state.date.year].months[e.state.date.month].money=Math.round(100*(s.users[s.active].budget[t].years[e.state.date.year].months[e.state.date.month].money+r))/100;var o=s.users[s.active].budget[t].years[e.state.date.year].months[e.state.date.month].values.length?s.users[s.active].budget[t].years[e.state.date.year].months[e.state.date.month].values[0].id+1:0;s.users[s.active].budget[t].years[e.state.date.year].months[e.state.date.month].values.unshift({id:o,value:a})}else s.users[s.active].budget[t].years[e.state.date.year].months[e.state.date.month]={money:r,values:[{id:0,value:a}]};s.users[s.active].budget[t].money=Math.round(100*(s.users[s.active].budget[t].money+r))/100,localStorage.setItem(C.key,JSON.stringify(s)),n.items[t]=s.users[s.active].budget[t].years[e.state.date.year].months[e.state.date.month].values,n.money.month=Math.round(100*(n.money.month+i))/100,n.money.all=Math.round(100*(n.money.all+i))/100,e.setState(n)},e.deleteItem=function(t,a){var s=e.state.items[t].map((function(e){return e.id})).indexOf(a),n=e.state.items[t],r=e.state,i=Number(n[s].value),o=t===C.budget.incomes?-i:i;n.splice(s,1),r.money.month=Math.round(100*(r.money.month+o))/100,r.money.all=Math.round(100*(r.money.all+o))/100;var c=JSON.parse(localStorage.getItem(C.key));c.users[c.active].budget[t].years[e.state.date.year].months[e.state.date.month].values=n,c.users[c.active].budget[t].years[e.state.date.year].months[e.state.date.month].money=Math.round(100*(c.users[c.active].budget[t].years[e.state.date.year].months[e.state.date.month].money-i))/100,c.users[c.active].budget[t].money=Math.round(100*(c.users[c.active].budget[t].money-i))/100,localStorage.setItem(C.key,JSON.stringify(c)),e.setState(r)},e.changeItemValue=function(t,a,s){var n=e.state.items[t].map((function(e){return e.id})).indexOf(a),r=e.state.items[t],i=e.state,o=Math.round(100*(Number(s)-Number(r[n].value)))/100,c=t===C.budget.incomes?o:-o;r[n].value=s,i.money.month=Math.round(100*(i.money.month+c))/100,i.money.all=Math.round(100*(i.money.all+c))/100;var l=JSON.parse(localStorage.getItem(C.key));l.users[l.active].budget[t].years[e.state.date.year].months[e.state.date.month].values=r,l.users[l.active].budget[t].years[e.state.date.year].months[e.state.date.month].money=Math.round(100*(l.users[l.active].budget[t].years[e.state.date.year].months[e.state.date.month].money+o))/100,l.users[l.active].budget[t].money=Math.round(100*(l.users[l.active].budget[t].money+o))/100,localStorage.setItem(C.key,JSON.stringify(l)),e.setState(i)};var s=JSON.parse(localStorage.getItem(C.key));s||(s=J,localStorage.setItem(C.key,JSON.stringify(s)));var n=s.users[s.active],r=0,i=0;return n.budget.incomes.years[n.date.year]&&n.budget.incomes.years[n.date.year].months[n.date.month]&&(r=n.budget.incomes.years[n.date.year].months[n.date.month].money),n.budget.expences.years[n.date.year]&&n.budget.expences.years[n.date.year].months[n.date.month]&&(i=n.budget.expences.years[n.date.year].months[n.date.month].money),e.state={money:{all:n.budget.incomes.money-n.budget.expences.money,month:r-i},date:{month:n.date.month,year:n.date.year},items:{incomes:n.budget.incomes.years[n.date.year]&&n.budget.incomes.years[n.date.year].months[n.date.month]?n.budget.incomes.years[n.date.year].months[n.date.month].values:[],expences:n.budget.expences.years[n.date.year]&&n.budget.expences.years[n.date.year].months[n.date.month]?n.budget.expences.years[n.date.year].months[n.date.month].values:[]},settings:{active:C.pages.app,theme:n.settings.theme,language:n.settings.language}},e}return Object(c.a)(a,[{key:"changeDate",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.state.date.year,s=this.state;s.date[e]=t,e===C.datepicker.selectable.possible[0]&&(s.date.year=a);var n=JSON.parse(localStorage.getItem(C.key)),r=0,i=0;n.users[n.active].budget.incomes.years[s.date.year]&&n.users[n.active].budget.incomes.years[s.date.year].months[s.date.month]&&(r=n.users[n.active].budget.incomes.years[s.date.year].months[s.date.month].money),n.users[n.active].budget.expences.years[s.date.year]&&n.users[n.active].budget.expences.years[s.date.year].months[s.date.month]&&(i=n.users[n.active].budget.expences.years[s.date.year].months[s.date.month].money),s.items.incomes=n.users[n.active].budget.incomes.years[s.date.year]&&n.users[n.active].budget.incomes.years[s.date.year].months[s.date.month]?n.users[n.active].budget.incomes.years[s.date.year].months[s.date.month].values:[],s.items.expences=n.users[n.active].budget.expences.years[s.date.year]&&n.users[n.active].budget.expences.years[s.date.year].months[s.date.month]?n.users[n.active].budget.expences.years[s.date.year].months[s.date.month].values:[],s.money.month=r-i,n.users[n.active].date=s.date,localStorage.setItem(C.key,JSON.stringify(n)),this.setState(s)}},{key:"openSettings",value:function(){var e=this.state;e.settings.active=C.pages.settings,this.setState(e)}},{key:"openApp",value:function(){var e=this.state;e.settings.active=C.pages.app,this.setState(e)}},{key:"openLogin",value:function(){var e=this.state;e.settings.active=C.pages.signIn,this.setState(e)}},{key:"changeTheme",value:function(e){var t=this.state,a=JSON.parse(localStorage.getItem(C.key));t.settings.theme=e,a.users[a.active].settings.theme=e,localStorage.setItem(C.key,JSON.stringify(a)),this.setState(t)}},{key:"changeLanguage",value:function(e){var t=this.state,a=JSON.parse(localStorage.getItem(C.key));t.settings.language=e,a.users[a.active].settings.language=e,localStorage.setItem(C.key,JSON.stringify(a)),this.setState(t)}},{key:"createUser",value:function(e,t){var a=JSON.parse(localStorage.getItem(C.key));for(var s in a.users)if(s===e)return{status:!1,error:"\u041b\u043e\u0433\u0438\u043d \u0437\u0430\u043d\u044f\u0442"};a.users[e]=J.users.anonim,a.users[e].username=e,a.users[e].password=t,a.active=e,localStorage.setItem(C.key,JSON.stringify(a));var n=a.users[e];return this.changeUser(n),{status:!0,error:""}}},{key:"login",value:function(e,t){var a=JSON.parse(localStorage.getItem(C.key));for(var s in a.users)if(s===e&&a.users[s].password===t){a.active=e,localStorage.setItem(C.key,JSON.stringify(a));var n=a.users[e];return this.changeUser(n),{status:!0,error:""}}return{status:!1,error:"\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u043b\u043e\u0433\u0438\u043d \u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c"}}},{key:"changeUser",value:function(e){var t=0,a=0;e.budget.incomes.years[e.date.year]&&e.budget.incomes.years[e.date.year].months[e.date.month]&&(t=e.budget.incomes.years[e.date.year].months[e.date.month].money),e.budget.expences.years[e.date.year]&&e.budget.expences.years[e.date.year].months[e.date.month]&&(a=e.budget.expences.years[e.date.year].months[e.date.month].money),this.setState({money:{all:e.budget.incomes.money-e.budget.expences.money,month:t-a},date:{month:e.date.month,year:e.date.year},items:{incomes:e.budget.incomes.years[e.date.year]&&e.budget.incomes.years[e.date.year].months[e.date.month]?e.budget.incomes.years[e.date.year].months[e.date.month].values:[],expences:e.budget.expences.years[e.date.year]&&e.budget.expences.years[e.date.year].months[e.date.month]?e.budget.expences.years[e.date.year].months[e.date.month].values:[]},settings:{active:C.pages.app,theme:e.settings.theme,language:e.settings.language}})}},{key:"render",value:function(){return n.a.createElement("div",{className:"app"},n.a.createElement("div",{className:"container-3d".concat(" app-".concat(this.state.settings.theme),this.state.settings.active)},n.a.createElement("div",{className:"container"},n.a.createElement(j,{money:{title:A[this.state.settings.language].budget.money,value:this.state.money},settingsActive:this.state.settings.active,openSettings:this.openSettings.bind(this)}),n.a.createElement("div",{className:"date"},n.a.createElement(O,{date:{month:A[this.state.settings.language].months[this.state.date.month],year:this.state.date.year},selectable:C.datepicker.selectable,months:A[this.state.settings.language].months,changeDate:this.changeDate.bind(this)})),n.a.createElement("div",{className:"items-boxes"},n.a.createElement(k,{description:C.budget.incomes,title:A[this.state.settings.language].budget.incomes,items:this.state.items.incomes,createItem:this.createItem.bind(this),deleteItem:this.deleteItem.bind(this),changeItemValue:this.changeItemValue.bind(this)}),n.a.createElement(k,{description:C.budget.expences,title:A[this.state.settings.language].budget.expences,items:this.state.items.expences,createItem:this.createItem.bind(this),deleteItem:this.deleteItem.bind(this),changeItemValue:this.changeItemValue.bind(this)}))),n.a.createElement(F,{changeTheme:this.changeTheme.bind(this),themes:C.themes,languages:C.languages,changeLanguage:this.changeLanguage.bind(this),openApp:this.openApp.bind(this),openLogin:this.openLogin.bind(this),openSettings:this.openSettings.bind(this),theme:this.state.settings.theme,language:this.state.settings.language,storage:{settings:A[this.state.settings.language].settings,signIn:A[this.state.settings.language].signIn.login,app:A[this.state.settings.language].app}}),n.a.createElement($,{openSettings:this.openSettings.bind(this),openApp:this.openApp.bind(this),createUser:this.createUser.bind(this),settingsActive:this.state.settings.active,login:this.login.bind(this),storage:{settings:A[this.state.settings.language].settings.title,signIn:A[this.state.settings.language].signIn,app:A[this.state.settings.language].app},theme:this.state.settings.theme})))}}]),a}(s.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(_,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[17,1,2]]]);
//# sourceMappingURL=main.52663231.chunk.js.map